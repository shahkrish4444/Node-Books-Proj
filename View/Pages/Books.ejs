<%- include('../Partials/Header.ejs') -%>
    <div class="container">
        <div class="d-flex justify-content-between my-5">
            
            <h2 class="text-center">Add Books Details</h2>
            <a href="/addbook"><button class="btn btn-success px-3 py-2">Add Book</button></a>
        </div>
        <table class="table table-bordered table-primary table-striped table-hover">
            <thead>
                <tr>
                    <th class="text-center p-2">S.R. No.</th>
                    <th class="text-center p-2">TITLE</th>
                    <th class="text-center p-2">TYPE</th>
                    <th class="text-center p-2">STOCK</th>
                    <th class="text-center p-2">PRICE</th>
                    <th class="text-center p-2">PUBLISHED DATE</th>
                    <th class="text-center p-2">AUTHOR NAME</th>
                    <th class="text-center p-2">ACTION</th>
                </tr>
            </thead>
            <tbody>
                <% if(books.length> 0) { %>
                    <% books.forEach((item, id)=> { %>
                        <tr>
                            <td class="text-center p-2">
                                <%= id + 1 %>
                            </td>
                            <td class="p-2">
                                <%= item.title %>
                            </td>
                            <td class="p-2">
                                <%= item.type %>
                            </td>
                            <td class="p-2">
                                <%= item.stock %>
                            </td>
                            <td class="p-2">
                                <%= item.price %>
                            </td>
                            <td class="p-2">
                                <%= item.published ? item.published.toLocaleDateString('en-US', { year: 'numeric' ,
                                    month: 'long' , day: 'numeric' }) : 'N/A' %>
                            </td>
                            <td class="p-2">
                                <%= item.author %>
                            </td>
                            <td class="d-flex p-2 justify-content-center">
                                <a href="/updatebook/<%= item._id%>" class="btn btn-warning  me-2">Edit</a>
                                <a href="/deleteBook/<%= item._id %>" class="btn btn-danger">DELETE</a>
                            </td>
                        </tr>
                        <% }) %>
                            <% } else { %>
                                <tr>
                                    <td colspan="8" class="text-center p-2">No data available</td>
                                </tr>
                                <% } %>
            </tbody>
        </table>
    </div>
    <%- include('../Partials/Footer.ejs') -%>   